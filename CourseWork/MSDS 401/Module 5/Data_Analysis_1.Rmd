---
title: 'Data Analysis Assignment #1 (50 points total)'
author: "Soukup, Michael"
output:
  html_document: default
---

```{r setup, include = FALSE}
# DO NOT ADD OR REVISE CODE HERE
knitr::opts_chunk$set(echo = FALSE, eval = TRUE)

```

-----

The following code chunk will:

(a) load the "ggplot2", "gridExtra" and "knitr" packages, assuming each has been installed on your machine,
(b) read-in the abalones dataset, defining a new data frame, "mydata,"
(c) return the structure of that data frame, and
(d) calculate new variables, VOLUME and RATIO.

Do not include package installation code in this document. Packages should be installed via the Console or 'Packages' tab. You will also need to download the abalones.csv from the course site to a known location on your machine. Unless a *file.path()* is specified, R will look to directory where this .Rmd is stored when knitting.

```{r analysis_setup1, message = FALSE, warning = FALSE}

# a) Load the ggplot2 and gridExtra packages.

library(ggplot2)
library(gridExtra)
library(knitr)

# b) Use read.csv() to read the abalones.csv into R, assigning the data frame to "mydata."

mydata <- read.csv("/Users/mikeysoukup/Desktop/NU MSDS/MSDS 401/Module 5/abalones.csv", sep = ",", stringsAsFactors = TRUE)


# c) Use the str() function to verify the structure of "mydata." You should have 1036 observations
# of eight variables.

str(mydata)

# d) Define two new variables, VOLUME and RATIO. Use the following statements to define VOLUME and
# RATIO as variables appended to the data frame "mydata."

mydata$VOLUME <- mydata$LENGTH * mydata$DIAM * mydata$HEIGHT
mydata$RATIO <- mydata$SHUCK / mydata$VOLUME

str(mydata)

```

-----

### Test Items starts from here - There are 6 sections ##########################

##### Section 1: (6 points) Summarizing the data.

(1)(a) (1 point) Use *summary()* to obtain and present descriptive statistics from mydata.  Use *table()* to present a frequency table using CLASS and RINGS. There should be 115 cells in the table you present.  

```{r Part_1a}
#Obtain descriptive statistics from mydata
summary(mydata)

#Use table to present a frequency table using CLASS and RINGS from mydata
table(mydata$RINGS, mydata$CLASS)

#Add a margin to sum each row and column of the table
addmargins(table(mydata$RINGS,mydata$CLASS))

```

**Question (1 point):  Briefly discuss the variable types and distributional implications such as potential skewness and outliers.**

***Answer: The data provided in the abalones data set has six ratio type variables, one nominal type, and one ordinal type. The ratio type variables are Length, Diameter, Height, Whole, Shuck, and Rings. The Nominal type is Sex and the Ordinal type is Class. Specifically looking at the variables created in the table above, we are looking at Rings and Class. We clearly see that the abalone age classes are categorized based on the integer values of the reported number of rings. The presence of several ring values in the oldest age class A5 indicates that the Rings distribution will be right skewed with potential for outliers being greater than Q3 + 1.5*IQR. To a lesser degree there is indication for outlier potential for values less than Q1 - 1.5*IQR for the youngest age class, A1, consisting of abalone ring counts less than or equal to 6. However, the bulk of the Rings data seems to fall within abalone age categories A2-A4 which indicates a unimodal distribution. Looking at the abalone physical measurements presented in the descriptive statistics summary also indicates evidence for distribution artifacts. Specifically, the Length and Diameter distributions appear to be left skewed as indicated by Mean < Median for these attributes. Also, there is potential for outliers less than Q1 - 1.5*IQR when considering the distance between Q1 and the Minimum values for these variables. The abalone Height looks to be normally distributed based on the Mean being approximately equal to the Median and no clear indicator of skew. The Whole and Shuck variables appear to have significant variance present. Both variables indicate right-skew distributions when comparing the Mean to the Median for each distribution. There appears to be outlier potential on both sides of these distributions when comparing the Minimum values to Q1 and Maximum values to Q3 for both the Whole and Shuck variables.***

(1)(b) (1 point) Generate a table of counts using SEX and CLASS. Add margins to this table (Hint: There should be 15 cells in this table plus the marginal totals. Apply *table()* first, then pass the table object to *addmargins()* (Kabacoff Section 7.2 pages 144-147)).  Lastly, present a barplot of these data; ignoring the marginal totals.  

```{r Part_1b}
#First create table object
part.1b <- table(mydata$SEX, mydata$CLASS)

#Add margins and display
addmargins(table(mydata$SEX, mydata$CLASS))

#Create barplot with base R graphics
barplot(part.1b, ylab = "Frequency", main = "CLASS membership, SEX-differentiated",
        col = c("darkred", "darkblue", "darkgreen"), legend = c("Female","Infant","Male"), 
        names.arg = colnames(part.1b), beside = TRUE)

#Create barplot with ggplot2
ggplot(data = mydata, aes(x = CLASS, fill = factor(SEX, levels = c("F","I","M"))))+
  geom_bar(position = "dodge") +
  labs(x = 'Class', y = 'Frequency', title = "CLASS membership, SEX-differentiated") +
  scale_fill_manual(labels = c("Female","Infant","Male"),values = c("darkred", "darkblue", "darkgreen")) +
  theme_minimal() + 
  theme(legend.title = element_blank(), legend.position = c(0.9, 0.85))
```

**Essay Question (2 points):  Discuss the sex distribution of abalones.  What stands out about the distribution of abalones by CLASS?**

***Answer: Regarding the sex distribution of abalones, there appears to be a higher proportion of males compared to females. This is confirmed when looking back at the summary statistics there are 381 Males and 326 Females present in this dataset. The sex distributions of the abalones all appear to be right skewed. The Infant distribution peaks at Class A2 and then tails off towards class A5. The Infant Sex has 224 of its 329 members in classes A1 and A2, with A2 accounting for the highest total count of Infants at 133 and the dominant sex in that age class. The Male and Female distributions both peak at class A3. In class A3, the Male sex has 143 counts and the Female sex has 121 counts both of which account for nearly 37% of the respective Sex participants. The Male and Female distributions have heavy right tails compared to their left tails. For instance, the Male counts in classes A4 and A5 sum to 164 compared to the 74 Males present in the age classes A1 and A2. One noteworthy artifact is that it does seem odd that there are still infants in the oldest age classes like A4 and A5, this is not intuitive based on how a human infant is defined. Regarding the abalones by class, the bulk of the abalones appear to belong to classes A2 and A3 which is central to their age range. There are 236 and 329 abalones present in the age classes A2 and A3, respectively. These values are larger than the amount of abalones in the other age classes which rank in descending order as class A4, A5, and A1 with 188, 175, and 108 abalone counts, respectively. The Class distribution is right-skewed as the counts tail out towards classes A4 and A5.***

(1)(c) (1 point) Select a simple random sample of 200 observations from "mydata" and identify this sample as "work." Use *set.seed(123)* prior to drawing this sample. Do not change the number 123. Note that *sample()* "takes a sample of the specified size from the elements of x." We cannot sample directly from "mydata." Instead, we need to sample from the integers, 1 to 1036, representing the rows of "mydata." Then, select those rows from the data frame (Kabacoff Section 4.10.5 page 87). 

Using "work", construct a scatterplot matrix of variables 2-6 with *plot(work[, 2:6])* (these are the continuous variables excluding VOLUME and RATIO). The sample "work" will not be used in the remainder of the assignment. 

```{r Part_1c}
#Create random sample of 200 rows from mydata and label sample as work
set.seed(123)
x <- seq(from = 1, to = 1036, by = 1)
row.id <- sample(x, size = 200)
work <- mydata[row.id,]
#Construct scatterplot matrix of work variables
plot(work[, 2:6])

```

-----

##### Section 2: (5 points) Summarizing the data using graphics.

(2)(a) (1 point) Use "mydata" to plot WHOLE versus VOLUME. Color code data points by CLASS.

```{r Part_2a}
#Create ggplot2 plot
ggplot(data = mydata, aes(x = VOLUME, y = WHOLE, color = CLASS)) +
  geom_point() +
  labs(x = "Volume", y = "Whole Weight", 
       title = expression("Whole weight, in grams | Volume, cm"^3)) +
  theme(plot.title = element_text(hjust = 0.5))

```


(2)(b) (2 points) Use "mydata" to plot SHUCK versus WHOLE with WHOLE on the horizontal axis. Color code data points by CLASS. As an aid to interpretation, determine the maximum value of the ratio of SHUCK to WHOLE.  Add to the chart a straight line with zero intercept using this maximum value as the slope of the line. If you are using the 'base R' *plot()* function, you may use *abline()* to add this line to the plot. Use *help(abline)* in R to determine the coding for the slope and intercept arguments in the functions. If you are using ggplot2 for visualizations, *geom_abline()* should be used.

```{r Part_2b}
#Create ggplot object for SHUCK vs. WHOLE

plt <- ggplot(data = mydata, aes(x = WHOLE, y = SHUCK, color = CLASS)) + 
        geom_point() +
        labs(x = "Whole weight", y = "Shuck weight", 
          title = "Shuck weight, in grams | Whole weight, in grams" ) +
        theme(plot.title = element_text(hjust = 0.5))

#Find max value of the ratio of SHUCK to WHOLE
max.shuck.whole <- max(mydata$SHUCK/mydata$WHOLE)

#Add a straight line with zero intercept using max ratio as slope

plt + 
  geom_abline(intercept = 0, slope = max.shuck.whole, color = "black",
              linetype = "dotdash", size = 0.5)


```

**Essay Question (2 points):  How does the variability in this plot differ from the plot in (a)?  Compare the two displays.  Keep in mind that SHUCK is a part of WHOLE.  Consider the location of the different age classes.**

***Answer: The variability in the plot of Shuck weight vs. Whole weight is visibly less than the variability in the plot of whole weight vs. volume. This is even more evident when the axis scale are taken into consideration. The axis in the shuck weight and whole weight graph are of smaller values so any variation in the graph should be amplified relative to the whole weight vs. volume graph. However, the variation is visually larger in the whole weight vs volume graph giving further confidence in the aforementioned observation. Additionally, the graph of shuck weight vs. whole weight does funnel as the values move to larger x-values. However, the plot of whole weight vs. volume starts funneling and having points separate from the cluster much earlier, to a larger proportion of values, and to a larger extent. In both graphs, the A1 and A2 age classes are nearest to the origin and do not extend far out compared to the abalones in age classes A3, A4, and A5. In both graphs, the abalones in age classes A3, A4, and A5 are seemingly present at all points along the x-axis. These age classes have significant variation both in the x and y direction as indicated by both graphs.***

-----

##### Section 3: (8 points) Getting insights about the data using graphs.

(3)(a) (2 points) Use "mydata" to create a multi-figured plot with histograms, boxplots and Q-Q plots of RATIO differentiated by sex. This can be done using *par(mfrow = c(3,3))* and base R or *grid.arrange()* and ggplot2. The first row would show the histograms, the second row the boxplots and the third row the Q-Q plots. Be sure these displays are legible.  

```{r Part_3a}
female.ratio <- mydata$RATIO[mydata$SEX == 'F']
infant.ratio <- mydata$RATIO[mydata$SEX == 'I']
male.ratio <- mydata$RATIO[mydata$SEX == 'M']

par(mfrow = c(3,3))
hist(female.ratio, ylab = 'Frequency', main = 'Female RATIO', col = 'darkred', xlab = '')
hist(infant.ratio, ylab = 'Frequency', main = 'Infant RATIO', col = 'darkgreen', xlab = '')
hist(male.ratio, ylab = 'Frequency', main = 'Male RATIO', col = 'darkblue', xlab = '')
boxplot(female.ratio, main = 'Female RATIO', col = 'darkred')
boxplot(infant.ratio, main = 'Infant RATIO', col = 'darkgreen')
boxplot(male.ratio, main = 'Male RATIO', col = 'darkblue')
qqnorm(female.ratio, main = 'Female RATIO', col = 'darkred')
qqline(female.ratio, col = 'black', lty = 1)
qqnorm(infant.ratio, main = 'Infant RATIO', col = 'darkgreen')
qqline(infant.ratio, col = 'black', lty = 1)
qqnorm(male.ratio, main = 'Male RATIO', col = 'darkblue')
qqline(male.ratio, col = 'black', lty = 1)
par(mfrow = c(1,1))

```

**Essay Question (2 points): Compare the displays.  How do the distributions compare to normality? Take into account the criteria discussed in the sync sessions to evaluate non-normality.**

***Answer: The shape of the RATIO distributions for each of the SEX types appear to have a similar shape. All three are unimodal and right-skewed. The right-skew nature of these distributions is the leading deviation away from a bell shape, or normality, for all three Ratio distributions. The right-skew nature of these distributions is also indicated with outliers that are greater than Q3 + 1.5*IQR as shown in the boxplots. The Female RATIO distribution also has an outlier which is less than Q1 - 1.5*IQR while the Infant and Male distributions do not. The skewness of these distributions also presents itself in the QQ plots as the sample quantiles are greater than the theoretical quantiles for higher ratio values. In the QQ plots this is discovered by indicating the dots for each distribution are above the 45 degree line on the right hand side of the plot towards theoretical quantiles 2 and 3. This allows for the conclusion that the distributions are moderately normally distributed. The Infant distribution appears to be the most non-normal distribution followed by the Male than Female distributions, respectively.***

(3)(b) (2 points) Use the boxplots to identify RATIO outliers (mild and extreme both) for each sex. Present the abalones with these outlying RATIO values along with their associated variables in "mydata" (Hint:  display the observations by passing a data frame to the kable() function).  

```{r Part_3b}
#Bring back in SEX subsetted RATIO data
female.ratio <- mydata$RATIO[mydata$SEX == 'F']
infant.ratio <- mydata$RATIO[mydata$SEX == 'I']
male.ratio <- mydata$RATIO[mydata$SEX == 'M']

f.mild.outliers <- boxplot.stats(female.ratio, coef = 1.5)$out
i.mild.outliers <- boxplot.stats(infant.ratio, coef = 1.5)$out
m.mild.outliers <- boxplot.stats(male.ratio, coef = 1.5)$out

Fout <- mydata[mydata$SEX == 'F' & mydata$RATIO %in% f.mild.outliers,]
Iout <- mydata[mydata$SEX == 'I' & mydata$RATIO %in% i.mild.outliers,]
Mout <- mydata[mydata$SEX == 'M' & mydata$RATIO %in% m.mild.outliers,]

abalone.outliers <- rbind(Fout, Iout, Mout)

kable(abalone.outliers)

par(mfrow = c(2,3))
boxplot(female.ratio, main = 'Female RATIO mild outliers', col = 'darkred', range = 1.5)
boxplot(infant.ratio, main = 'Infant RATIO mild outliers', col = 'darkgreen', range = 1.5)
boxplot(male.ratio, main = 'Male RATIO mild outliers', col = 'darkblue', range = 1.5)
boxplot(female.ratio, main = 'Female RATIO extreme outliers', col = 'darkred', range = 3)
boxplot(infant.ratio, main = 'Infant RATIO extreme outliers', col = 'darkgreen', range = 3)
boxplot(male.ratio, main = 'Male RATIO extreme outliers', col = 'darkblue', range = 3)
par(mfrow = c(1,1))

```

**Essay Question (2 points):  What are your observations regarding the results in (3)(b)?**

***Answer: Each SEX has several RATIO outliers. The Infant sex has the most number of outliers at a count of 8 followed by Female with 6 outliers and then Male with 5 outliers. Both Female and Infant samples have extreme ratio outliers while the Male sample does not contain an extreme ratio outlier. The Female sample has ratio outliers on both sides of the boxplot. The infant and male samples only have ratio outliers 1.5*IQR greater than their respective third quartiles.The Female ratio outliers greater than Q3 + 1.5*IQR are heavily present in age class A3, while the ratio outlier lower than the boxplot whisker belongs to age class A5. Similarly to the Female outliers, all 5 of the Male ratio outliers belong to age class A3. The infant ratio outliers are made of of age classes A1 and A2 which is no surprise considering nearly 70% of the infant abalones belong to these two age classes.***

-----

##### Section 4: (8 points) Getting insights about possible predictors.

(4)(a) (3 points) With "mydata," display side-by-side boxplots for VOLUME and WHOLE, each differentiated by CLASS There should be five boxes for VOLUME and five for WHOLE. Also, display side-by-side scatterplots:  VOLUME and WHOLE versus RINGS. Present these four figures in one graphic:  the boxplots in one row and the scatterplots in a second row. Base R or ggplot2 may be used.


```{r Part_4a}
#Create with Base R
par(mfrow = c(2,2))

boxplot(mydata$VOLUME ~ mydata$CLASS, xlab = '', ylab = 'Volume')
boxplot(mydata$WHOLE ~ mydata$CLASS, xlab = '', ylab = 'Whole')
plot(mydata$VOLUME ~ mydata$RINGS, type = 'p', xlab = 'Rings', ylab = 'Volume')
plot(mydata$WHOLE ~ mydata$RINGS, type = 'p', xlab = 'Rings', ylab = 'Whole')

par(mfrow = c(1,1))
```

**Essay Question (5 points) How well do you think these variables would perform as predictors of age?  Explain.**

***Answer: At first glance, it looks as though Volume and Whole would be good predictors of age. Looking at the boxplots, the interquartile range shifts to higher values of Volume and Whole as the age class increases. The boxplots also indicate that the medians for these two variables also increase as the age class increases. There is also a similar positive correlation indicated by the scatterplots of Volume and Whole. As the number of rings increase, the general trend of volume and whole is to increase as well. These associations aside, I do not think volume or whole would be good predictors of age. The issue I see is the large amount of variation and overlap of volume and whole between age classes and ring counts. First consider the box plots. For both Volume and Whole, there is significant overlap of the interquartile range of age classes A3, A4, and A5. The interquartile ranges for age class A3 also overlaps age class A2 in both boxplots. Also, when considering the whisker coverage for each age class for the Volume and Whole variables there is considerable overlap for all 5 age classes. Thus, when analyzing a single abalone based on volume or whole measurements, it would be tempting to think the larger these values are the older the abalone is and vice versa, however, it would be difficult to statistically prove age based on these values given the considerable overlap of these measurements based on age class. The same can be seen in the scatterplots of Volume and Whole vs. Rings. As the number of rings on an abalone increase, the scatterplots quickly baloon out and funnel in relation to their volume and whole measurements. There is not much variation in Volume or Whole for abalones with fewer rings, but for abalones with more rings, theres is significant range in the values of these measurements and significant overlap across the board for each ring count which would make it difficult to predict the number of rings or age class given a single volume or whole value. One may be tempted to think that Volume and Whole could be a good predictor for concluding statements such as "If Volume or Whole is greater than X, then the abalone should be atleast this age". And that may be effective for ruling out abalones in the younger age classes to a degree, but it does not work the other way around. For instance, one could not then go on to say "If Volume or Whole is less than X, then the abalone is younger than Y". Also, this type of approach would not be effective in differentiating abalones with 9 or greater rings. All this considered, I believe Volume and Whole have weak correlations to abalone age and would be poor predictors of abalone age.***

-----

##### Section 5: (12 points) Getting insights regarding different groups in the data.

(5)(a) (2 points) Use *aggregate()* with "mydata" to compute the mean values of VOLUME, SHUCK and RATIO for each combination of SEX and CLASS. Then, using *matrix()*, create matrices of the mean values. Using the "dimnames" argument within *matrix()* or the *rownames()* and *colnames()* functions on the matrices, label the rows by SEX and columns by CLASS. Present the three matrices (Kabacoff Section 5.6.2, p. 110-111). The *kable()* function is useful for this purpose.  You do not need to be concerned with the number of digits presented.

```{r Part_5a}
#Use aggregate to compute mean values of VOLUME, SHUCK, and RATIO for each combination of SEX and CLASS
vol.mean <- aggregate(mydata$VOLUME, by = list(mydata$SEX, mydata$CLASS), mean)
colnames(vol.mean) <- c("Sex","Class","Vol Mean")
vol.mean
shu.mean <- aggregate(mydata$SHUCK, by = list(mydata$SEX, mydata$CLASS), mean)
colnames(shu.mean) <- c("Sex","Class","Shuck Mean")
shu.mean
rat.mean <- aggregate(mydata$RATIO, by = list(mydata$SEX, mydata$CLASS), mean)
colnames(rat.mean) <- c("Sex","Class","Ratio Mean")
rat.mean

#Create matrices
vol.mean.matrix <- matrix(round(vol.mean[,'Vol Mean'], digits = 2), nrow = length(unique(mydata$SEX)),
                    ncol = length(unique(mydata$CLASS)),
                    dimnames = list(c("Female", "Infant","Male"),
                                    sort(unique(mydata$CLASS))))
shu.mean.matrix <- matrix(round(shu.mean[,'Shuck Mean'], digits = 2), nrow = length(unique(mydata$SEX)),
                    ncol = length(unique(mydata$CLASS)),
                    dimnames = list(c("Female", "Infant","Male"),
                                    sort(unique(mydata$CLASS))))
rat.mean.matrix <- matrix(round(rat.mean[,'Ratio Mean'], digits = 4), nrow = length(unique(mydata$SEX)),
                    ncol = length(unique(mydata$CLASS)),
                    dimnames = list(c("Female", "Infant","Male"),
                                    sort(unique(mydata$CLASS))))
#Present the three matrices similar to DA self-check instead of using kable()
mat.list <- list(Volume = vol.mean.matrix,
                 Shuck = shu.mean.matrix,
                 Ratio = rat.mean.matrix)
print(mat.list)
```

(5)(b) (3 points) Present three graphs. Each graph should include three lines, one for each sex. The first should show mean RATIO versus CLASS; the second, mean VOLUME versus CLASS; the third, mean SHUCK versus CLASS. This may be done with the 'base R' *interaction.plot()* function or with ggplot2 using *grid.arrange()*.

```{r Part_5b, fig.width = 9}
#Construct Mean Ratio Plot with Interaction Plot base R Function
interaction.plot(x.factor = mydata$CLASS, trace.factor = mydata$SEX,
                 response = mydata$RATIO, fun = mean, type = 'b',
                 xlab = 'Class', ylab = 'Ratio', main = 'Mean Ratio per Class',
                 col = c("darkred","darkgreen","darkblue"),
                 lty = c(1,1,1), legend = FALSE, pch = 16, cex = 0.75)
legend('topright', inset = .02, legend = c("Female","Infant","Male"),
       col = c("darkred","darkgreen","darkblue"),
       lty = c(1,1,1), title = "SEX" )
#Construct Mean Volume plot with Interaction Plot base R Function
interaction.plot(x.factor = mydata$CLASS, trace.factor = mydata$SEX,
                 response = mydata$VOLUME, fun = mean, type = 'b',
                 xlab = 'Class', ylab = 'Volume', main = 'Mean Volume per Class',
                 col = c("darkred","darkgreen","darkblue"),
                 lty = c(1,1,1), legend = FALSE, pch = 16, cex = 0.75)
legend('topleft', inset = .02, legend = c("Female","Infant","Male"),
       col = c("darkred","darkgreen","darkblue"),
       lty = c(1,1,1), title = "SEX" )
#Construct Mean Shuck Weight plot with Interaction Plot base R Function
interaction.plot(x.factor = mydata$CLASS, trace.factor = mydata$SEX,
                 response = mydata$SHUCK, fun = mean, type = 'b',
                 xlab = 'Class', ylab = 'Shuck', main = 'Mean Shuck weight per Class',
                 col = c("darkred","darkgreen","darkblue"),
                 lty = c(1,1,1), legend = FALSE, pch = 16, cex = 0.75)
legend('topleft', inset = .02, legend = c("Female","Infant","Male"),
       col = c("darkred","darkgreen","darkblue"),
       lty = c(1,1,1), title = "SEX" )

```

**Essay Question (2 points):  What questions do these plots raise?  Consider aging and sex differences.**

***Answer: These plots raise several questions that would be interesting to answer. Why do infants tend to have a lower ratio of shuck weight to volume compared to male and female abalones? How can the Ratio measurement of an abalone be used to characterize an abalone based on age or sex? Why are the abalones segregated in terms of sex and age class regarding mean volume? Specifically, why do females have larger volumes on average than males and infants? Is it possible to id and characterize young abalones according to sex based on their volumes during age class A1? Similar questions could be posed to mean shuck weight as were posed for mean volume. Is there a way to better characterize and track young abalones for harvesting decisions later on in life? Why do females have significantly higher values for mean volume and shuck weight during age class A1? Is the mean volume and mean shuck weight for the females a true indicator of central tendency or is this being skewed by outliers? And if it is a true indicator, how can it be leveraged to help abalone harvesting? In general, how can this information be utilized to better determine predictive decisions to understand if an abalone is male, female, or infant and their age?***

5(c) (3 points) Present four boxplots using *par(mfrow = c(2, 2)* or *grid.arrange()*. The first line should show VOLUME by RINGS for the infants and, separately, for the adult; factor levels "M" and "F," combined. The second line should show WHOLE by RINGS for the infants and, separately, for the adults. Since the data are sparse beyond 15 rings, limit the displays to less than 16 rings. One way to accomplish this is to generate a new data set using subset() to select RINGS < 16.  Use ylim = c(0, 1100) for VOLUME and ylim = c(0, 400) for WHOLE.  If you wish to reorder the displays for presentation purposes or use ggplot2 go ahead.

```{r Part_5c}
data.sub <- subset(mydata, subset = mydata$RINGS < 16)
par(mfrow = c(2,2))
boxplot(data.sub$VOLUME ~ data.sub$RINGS, subset = data.sub$SEX == 'I',
        xlab = 'Rings' , ylab = 'Volume', main = 'Infant Volume | Rings',
        col = 'skyblue2', ylim = c(0,1100))
boxplot(data.sub$VOLUME ~ data.sub$RINGS, subset = data.sub$SEX != 'I',
        xlab = 'Rings' , ylab = 'Volume', main = 'Adult Volume | Rings',
        col = 'firebrick', ylim = c(0,1100))
boxplot(data.sub$WHOLE ~ data.sub$RINGS, subset = data.sub$SEX == 'I',
        xlab = 'Rings', ylab = 'Whole', main = 'Infant Whole weight | Rings',
        col = 'skyblue2', ylim = c(0,400))
boxplot(data.sub$WHOLE ~ data.sub$RINGS, subset = data.sub$SEX != 'I',
        xlab = 'Rings', ylab = 'Whole', main = 'Adult Whole weight | Rings',
        col = 'firebrick', ylim = c(0,400))
par(mfrow = c(1,1))
```

**Essay Question (2 points):  What do these displays suggest about abalone growth?  Also, compare the infant and adult displays.  What differences stand out?**

***Answer: These displays suggest that abalone growth starts in the year the abalone is transitioning from 4 to 5 rings. Then the abalone growth appears to be fairly linear until the abalone has generated 10 - 11 rings. At 10-11 rings of age, the abalone growth starts to plateau and even slightly decline indicating that on average, abalones will be at their largest when they have 10-11 rings. The growth patterns appear more pronounced for the adult abalones compared to the infant abalones. What I mean is that the adult abalones appear to grow at a quicker rate, on average compared to the infant abalones. Adults reach a median volume of ~ 400 units^3 and median whole weight of ~ 150 units in those 6-7 years of growth where the infants only reach a median volume of ~ 300 units^3 and median whole weight of ~ 100 units in the same time span. Also, the adult abalones have larger median volumes and whole weights compared to the infant abalones. The adult abalones also have significantly more variability in their growth trajectory compared to the infant abalones. The infant abalone volume and whole weights vs. ring boxplots appear to have narrower ranges when compared to the adult boxplots. The adult boxplots often contain whiskers of significant length indicating this variability. This is especially true for the ring ages when abalones are expected to be the largest around 10-11 rings of age. Both infant and adult abalones have outliers in their volume and whole weight vs. ring boxplot charts.***

-----

##### Section 6: (11 points) Conclusions from the Exploratory Data Analysis (EDA).

**Conclusions**


**Essay Question 1) (5 points)	Based solely on these data, what are plausible statistical reasons that explain the failure of the original study? Consider to what extent physical measurements may be used for age prediction.**

***Answer: The intent of this study was to use physical measurements such as Length, Diameter, Height, Whole weight, and Shucked weight of the abalone to predict the age of the abalone. I believe a key driving factor for the failure of this original study lies in the significant amount of data variability when considering how abalone physical characteristics change with age. This was evident when we considered the whole abalone weight and the volume of the abalone vs age classes and ring counts via boxplots and scatterplots. As a quick aside, the data indicated a positive linear correlation of the whole weight and shuck weight and between the whole weight and volume. Also, the volume takes into account the other three physical measurements consisting of length, diameter, and height. So when we analyze boxplots and scatter plots of abalone weight and volume vs age class and ring count, we have a good idea that these displays would be similar when comparing other physical attributes against age variables. What we find when we conduct this analysis is that there are general trends suggesting how abalones age. For instance their whole weights increase and so do their volumes on average. Additionally, the abalone ratios decreases on average with age. However, there is so much variation seen when looking at boxplots and scatter plots of whole weight and volume vs. abalone age and ring count that leads to significant overlap of the physical characteristics between the age classes. This leads to the inability to accurately distinguish an abalone's age confidently based on physical measurements alone. The overlap of these physical characteristics across sex and age leads to uncertainty in any conclusion that could be made. However, this is not to say that the physical characteristics would be useless in characterizing abalone age. One could conceivably come up with decision criteria based on volume or whole weight measurements to conclude an abalone is atleast a certain age. For instance, when looking at plots of Volume and Whole weight vs. Rings, it can be reasoned that if the abalone volume was greater than 600 units^3 and the whole weight is greater than 200 units than the abalone is atleast 8 rings of age. This is because the data indicates that the larger the abalone volume and whole weight values are, the more likely the abalone is older. There are no young abalones (ring count <= 7) with volumes greater than 500 units^3 and whole weights greater than 150 units. So if you come across a larger abalone, one can conclude with reasonable confidence that the abalone is atleast X rings of age if time is taken to come up with the appropriate decision criteria. However, this does not work in reverse because of the large amounts of variability seen in the older age classes of abalones. For instance, abalones with 10 rings have volumes from about 50 units^3 up to nearly 900 units^3. This is nearly the entire range of volumes within the entire abalone data set so it is much more difficult to determine the age of an abalone with smaller physical characteristics.***

**Essay Question 2) (3 points) Do not refer to the abalone data or study.  If you were presented with an overall histogram and summary statistics from a sample of some population or phenomenon and no other information, what questions might you ask before accepting them as representative of the sampled population or phenomenon?**

***Answer: The first thing I would like to know is how homogenous are the given specimens. Specifically, I would like to know if there are ways the specimens can be categorized by distinguishable factors, and if so, can those distinguishable factors have an impact on the histogram distribution or summary statistics? For instance, does characteristic X tend to lead to higher values in the distribution while characteristic Y makes up the bulk of the lower values in the distribution? Another thing I would like to know is how was the data generated or collected? As a result, are their potential influences such as time or environmental impacts that could influence the data and shift it one way or another? I would also like to know the margin of error or difficulty in acurately measuring the given characteristic. For instance, what is the machine or equipment's calibration rating? Is it calibrated to produce results within +/- 5 units? Comparing this margin of error to the spread of data in the population will be important when considering the data accuracy. If the margin of error of the machine is greater than the spread of data shown in the histogram or summary statistics, it will be impossible to determine if the differences from specimen to specimen were a result of actual differences or due to variability of the gauge. ***

**Essay Question 3)  (3 points)	Do not refer to the abalone data or study.  What do you see as difficulties analyzing data derived from observational studies? Can causality be determined?  What might be learned from such studies?**

***Answer: I see a number of difficulties when analyzing data derived from observational studies. First, I question the confidence and the accuracy of the data. It is important to have a repeatable way to measure and classify the data under analysis. This means the same part will be classified the same way regardless of who is measuring it. If this is difficult or the resolution is low, the data accuracy will be off making it difficult to draw meaningful conclusions. Another difficulty I see when analyzing data from observational studies is how representative the sample is to the population. Often times these samples will be taken out of convenience, ability, or limitations due to financial constraints of the study. If the sample is not representative, the conclusions made about the population will be incorrect as a result. I do think causality can be determined in these types of studies, but more likely correlation will be determined which will lead to specific research to study the causality. Causality can only be determined with a very specific set of conditions and in essence an experiment. For example, to determine causality a researcher would need to find two samples from the same population that were in effect treated two different ways while holding other variables or factors constant. This is difficult to find in nature or by random chance. Even if found, it will have to be found repeatably in order to verify the results as well. Due to these reasons, I think correlation is a more likely outcome from these types of experiments as opposed to causation. Even with causality not established, a lot can be still learned from these studies. Very specific and detailed information can be gleaned about the sample itself. Correlations can be established along with general trends. This may not be as definitive as causality, but it is still insight and learning that leads to hypothesis generation for future study. Also, the next round of questions can be prompted. The data analysis conducted often leads to one creating a new set of questions that want to be answered. This is all part of the iterative scientific process. So even without causality, much can be learned for observational studies.***
